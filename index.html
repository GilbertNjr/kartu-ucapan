<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kartu Apresiasi - Terima Kasih Kak!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #0f0f23;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
        }

        .main-container {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            max-width: 480px;
            width: 100%;
            background: rgba(25, 25, 50, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: cardAppear 1s ease-out;
        }

        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            padding: 32px 24px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .card-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.03) 10px,
                rgba(255,255,255,0.03) 20px
            );
            animation: shimmer 8s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }

        .card-header h1 {
            color: white;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
        }

        .card-header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            font-weight: 300;
            position: relative;
            z-index: 2;
        }

        .card-body {
            padding: 32px 24px;
        }

        .anonymous-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(103, 126, 234, 0.1);
            border: 1px solid rgba(103, 126, 234, 0.2);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }

        .anonymous-toggle:hover {
            background: rgba(103, 126, 234, 0.15);
            border-color: rgba(103, 126, 234, 0.3);
        }

        .toggle-label {
            color: #e2e8f0;
            font-weight: 500;
            font-size: 14px;
        }

        .toggle-switch {
            position: relative;
            width: 52px;
            height: 28px;
            background: #4a5568;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .toggle-knob {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch.active .toggle-knob {
            transform: translateX(24px);
        }

        .form-section {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            color: #e2e8f0;
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            background: rgba(45, 55, 72, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .form-input, .form-select {
            height: 48px;
            padding: 0 16px;
        }

        .form-textarea {
            padding: 16px;
            resize: vertical;
            min-height: 100px;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(45, 55, 72, 0.8);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input::placeholder, .form-textarea::placeholder {
            color: #a0aec0;
        }

        .rating-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 20px;
            margin-top: 16px;
        }

        .rating-item {
            text-align: center;
        }

        .rating-label {
            color: #cbd5e0;
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .stars-container {
            display: flex;
            justify-content: center;
            gap: 4px;
        }

        .star {
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            filter: grayscale(100%);
        }

        .star:hover {
            transform: scale(1.2);
            filter: grayscale(0%);
        }

        .star.filled {
            filter: grayscale(0%);
            animation: starGlow 0.3s ease;
        }

        @keyframes starGlow {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .submit-button {
            width: 100%;
            height: 56px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 16px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 24px;
            position: relative;
            overflow: hidden;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }

        .submit-button:active {
            transform: translateY(0);
        }

        .submit-button.success {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin: 24px 0;
        }

        .stat-card {
            background: rgba(45, 55, 72, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: #a0aec0;
            font-weight: 500;
        }

        .messages-container {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 24px;
        }

        .message-card {
            background: rgba(45, 55, 72, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid #667eea;
            animation: messageSlide 0.5s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .message-author {
            color: #e2e8f0;
            font-weight: 600;
            font-size: 14px;
        }

        .message-rating {
            color: #ffd700;
            font-size: 12px;
        }

        .message-content {
            color: #cbd5e0;
            line-height: 1.6;
            font-size: 14px;
        }

        .gift-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .gift-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .gift-content {
            background: rgba(25, 25, 50, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: giftPop 0.5s ease-out;
        }

        @keyframes giftPop {
            0% {
                transform: scale(0.5) rotate(-10deg);
                opacity: 0;
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .gift-icon {
            font-size: 64px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .gift-title {
            color: #e2e8f0;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .gift-message {
            color: #cbd5e0;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .close-gift {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 12px;
            color: white;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-gift:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        /* Scrollbar styling */
        .messages-container::-webkit-scrollbar {
            width: 6px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: rgba(45, 55, 72, 0.3);
            border-radius: 3px;
        }

        .messages-container::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 3px;
        }

        .messages-container::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="main-container">
        <div class="card">
            <div class="card-header">
                <h1>üíù Kartu Apresiasi</h1>
                <p>Thank you for being an amazing leader!</p>
            </div>
            
            <div class="card-body">
                <div class="anonymous-toggle" id="anonymousToggle">
                    <span class="toggle-label">ü•∑ Mode Rahasia (Anonim)</span>
                    <div class="toggle-switch" id="toggleSwitch">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-number" id="totalMessages">0</div>
                        <div class="stat-label">Total Pesan</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="avgScore">0.0</div>
                        <div class="stat-label">Skor Rata-rata</div>
                    </div>
                </div>

                <form id="appreciationForm">
                    <div class="form-section">
                        <label class="form-label">üë§ Nama / Panggilan</label>
                        <input type="text" class="form-input" id="nameInput" placeholder="Siapa nama kamu?" required>
                    </div>

                    <div class="form-section">
                        <label class="form-label">üè∑Ô∏è Posisi di UKM</label>
                        <select class="form-select" id="positionSelect" required>
                            <option value="">Pilih posisi kamu...</option>
                            <option value="Anggota">Anggota Biasa</option>
                            <option value="Staff PSDM">Staff PSDM</option>
                            <option value="Staff Lainnya">Staff Divisi Lain</option>
                            <option value="Koordinator">Koordinator</option>
                            <option value="Pengurus Inti">Pengurus Inti</option>
                        </select>
                    </div>

                    <div class="form-section">
                        <label class="form-label">‚≠ê Penilaian Kepemimpinan</label>
                        <div class="rating-grid">
                            <div class="rating-item">
                                <div class="rating-label">Komunikasi</div>
                                <div class="stars-container" data-category="komunikasi">
                                    <span class="star" data-value="1">‚≠ê</span>
                                    <span class="star" data-value="2">‚≠ê</span>
                                    <span class="star" data-value="3">‚≠ê</span>
                                    <span class="star" data-value="4">‚≠ê</span>
                                    <span class="star" data-value="5">‚≠ê</span>
                                </div>
                            </div>
                            <div class="rating-item">
                                <div class="rating-label">Koordinasi</div>
                                <div class="stars-container" data-category="koordinasi">
                                    <span class="star" data-value="1">‚≠ê</span>
                                    <span class="star" data-value="2">‚≠ê</span>
                                    <span class="star" data-value="3">‚≠ê</span>
                                    <span class="star" data-value="4">‚≠ê</span>
                                    <span class="star" data-value="5">‚≠ê</span>
                                </div>
                            </div>
                            <div class="rating-item">
                                <div class="rating-label">Inspirasi</div>
                                <div class="stars-container" data-category="inspirasi">
                                    <span class="star" data-value="1">‚≠ê</span>
                                    <span class="star" data-value="2">‚≠ê</span>
                                    <span class="star" data-value="3">‚≠ê</span>
                                    <span class="star" data-value="4">‚≠ê</span>
                                    <span class="star" data-value="5">‚≠ê</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <label class="form-label">üí≠ Kesan & Pengalaman</label>
                        <textarea class="form-textarea" id="kesanInput" placeholder="Ceritakan kesan kamu selama berorganisasi dengan kepemimpinan beliau..." required></textarea>
                    </div>

                    <div class="form-section">
                        <label class="form-label">üíå Pesan & Harapan</label>
                        <textarea class="form-textarea" id="pesanInput" placeholder="Sampaikan pesan, saran, atau harapan kamu untuk kedepannya..." required></textarea>
                    </div>

                    <button type="submit" class="submit-button">
                        ‚ú® Kirim Apresiasi
                    </button>
                </form>

                <div class="messages-container" id="messagesContainer"></div>
            </div>
        </div>
    </div>

    <!-- Gift Modal -->
    <div class="gift-modal" id="giftModal">
        <div class="gift-content">
            <div class="gift-icon" id="giftIcon">üéÅ</div>
            <h3 class="gift-title" id="giftTitle">Surprise!</h3>
            <p class="gift-message" id="giftMessage">Terima kasih sudah berbagi apresiasi!</p>
            <button class="close-gift" onclick="closeGift()">Tutup</button>
        </div>
    </div>

    <script>
        // Global variables
        let isAnonymous = false;
        let ratings = { komunikasi: 0, koordinasi: 0, inspirasi: 0 };
        let messages = [];
        let currentUser = null;

        // Generate unique session ID for each user
        function generateSessionId() {
            return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // Initialize user session
        function initializeUser() {
            if (!currentUser) {
                currentUser = {
                    sessionId: generateSessionId(),
                    hasSubmitted: false,
                    submissionTime: null
                };
            }
        }

        // Create floating particles
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                particles.appendChild(particle);
            }
        }

        // Anonymous toggle
        document.getElementById('anonymousToggle').addEventListener('click', function() {
            isAnonymous = !isAnonymous;
            const toggle = document.getElementById('toggleSwitch');
            const nameInput = document.getElementById('nameInput');
            
            if (isAnonymous) {
                toggle.classList.add('active');
                nameInput.value = '';
                nameInput.placeholder = 'Mode anonim aktif ü•∑';
                nameInput.disabled = true;
            } else {
                toggle.classList.remove('active');
                nameInput.placeholder = 'Siapa nama kamu?';
                nameInput.disabled = false;
            }
        });

        // Star rating system
        document.querySelectorAll('.stars-container').forEach(container => {
            const stars = container.querySelectorAll('.star');
            const category = container.dataset.category;

            stars.forEach((star, index) => {
                star.addEventListener('click', () => {
                    const value = parseInt(star.dataset.value);
                    ratings[category] = value;

                    // Update visual stars
                    stars.forEach((s, i) => {
                        if (i < value) {
                            s.classList.add('filled');
                        } else {
                            s.classList.remove('filled');
                        }
                    });
                });
            });
        });

        // Form submission
        document.getElementById('appreciationForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Check if user already submitted
            if (currentUser.hasSubmitted) {
                showAlreadySubmittedModal();
                return;
            }

            // Validate ratings
            if (ratings.komunikasi === 0 || ratings.koordinasi === 0 || ratings.inspirasi === 0) {
                alert('Jangan lupa kasih rating untuk semua aspek ya! ‚≠ê');
                return;
            }

            const name = isAnonymous ? 'Anonymous' : document.getElementById('nameInput').value;
            const position = document.getElementById('positionSelect').value;
            const kesan = document.getElementById('kesanInput').value;
            const pesan = document.getElementById('pesanInput').value;

            const message = {
                id: Date.now() + '_' + currentUser.sessionId,
                name: name,
                displayName: isAnonymous ? generateAnonymousName() : name,
                position: position,
                kesan: kesan,
                pesan: pesan,
                ratings: { ...ratings },
                timestamp: new Date().toLocaleString('id-ID'),
                isAnonymous: isAnonymous,
                sessionId: currentUser.sessionId
            };

            messages.push(message);
            displayMessage(message);
            updateStats();
            
            // Mark user as submitted
            currentUser.hasSubmitted = true;
            currentUser.submissionTime = new Date();
            
            // Disable form
            disableForm();
            
            showGift();

            // Success animation
            const btn = document.querySelector('.submit-button');
            btn.textContent = '‚úÖ Sudah Terkirim';
            btn.classList.add('success');
            btn.disabled = true;
        });

        function generateAnonymousName() {
            const adjectives = ['Baik Hati', 'Pengertian', 'Supportive', 'Ramah', 'Inspiratif', 'Keren', 'Amazing', 'Luar Biasa'];
            const nouns = ['Rekan', 'Teman', 'Partner', 'Sahabat', 'Buddy', 'Kawan'];
            return adjectives[Math.floor(Math.random() * adjectives.length)] + ' ' + nouns[Math.floor(Math.random() * nouns.length)];
        }

        function displayMessage(message) {
            const container = document.getElementById('messagesContainer');
            const avgRating = ((message.ratings.komunikasi + message.ratings.koordinasi + message.ratings.inspirasi) / 3).toFixed(1);
            
            const messageCard = document.createElement('div');
            messageCard.className = 'message-card';
            messageCard.innerHTML = `
                <div class="message-header">
                    <span class="message-author">${message.displayName} ${message.isAnonymous ? 'ü•∑' : ''} (${message.position})</span>
                    <span class="message-rating">‚≠ê ${avgRating}/5</span>
                </div>
                <div class="message-content">
                    <strong>üí≠ Kesan:</strong><br>${message.kesan}<br><br>
                    <strong>üíå Pesan:</strong><br>${message.pesan}
                </div>
            `;
            
            container.insertBefore(messageCard, container.firstChild);
        }

        function updateStats() {
            const total = messages.length;
            let totalScore = 0;
            
            messages.forEach(msg => {
                totalScore += (msg.ratings.komunikasi + msg.ratings.koordinasi + msg.ratings.inspirasi) / 3;
            });
            
            const avgScore = total > 0 ? (totalScore / total).toFixed(1) : 0.0;
            
            document.getElementById('totalMessages').textContent = total;
            document.getElementById('avgScore').textContent = avgScore;
        }

        function showGift() {
            const gifts = [
                { icon: 'üéâ', title: 'Selamat!', message: 'Pesan kamu sudah terkirim! Terima kasih atas apresiasinya üíô' },
                { icon: 'üåü', title: 'Amazing!', message: 'Feedback seperti ini yang membuat seseorang berkembang! ‚ú®' },
                { icon: 'üíù', title: 'Thank You!', message: 'Apresiasi tulus seperti ini sangat berarti! üôè' },
                { icon: 'üöÄ', title: 'Fantastic!', message: 'Dengan feedback ini, semua bisa tumbuh lebih baik! üìà' },
                { icon: 'üéä', title: 'Wonderful!', message: 'Kebaikan hati kamu pasti akan kembali berlipat! üí´' }
            ];
            
            const randomGift = gifts[Math.floor(Math.random() * gifts.length)];
            
            document.getElementById('giftIcon').textContent = randomGift.icon;
            document.getElementById('giftTitle').textContent = randomGift.title;
            document.getElementById('giftMessage').textContent = randomGift.message;
            document.getElementById('giftModal').classList.add('show');
        }

        function disableForm() {
            const form = document.getElementById('appreciationForm');
            const inputs = form.querySelectorAll('input, select, textarea, button');
            inputs.forEach(input => {
                input.disabled = true;
                input.style.opacity = '0.6';
            });
            
            // Show completion message
            const completionMsg = document.createElement('div');
            completionMsg.className = 'completion-message';
            completionMsg.innerHTML = `
                <div style="background: rgba(72, 187, 120, 0.1); border: 1px solid rgba(72, 187, 120, 0.3); border-radius: 12px; padding: 16px; margin: 16px 0; text-align: center;">
                    <div style="color: #48bb78; font-size: 18px; margin-bottom: 8px;">‚úÖ Terima kasih!</div>
                    <div style="color: #cbd5e0; font-size: 14px;">Pesan kamu sudah terkirim. Kamu bisa lihat semua pesan yang masuk di bawah ini.</div>
                </div>
            `;
            form.parentNode.insertBefore(completionMsg, form.nextSibling);
        }

        function showAlreadySubmittedModal() {
            const modal = document.createElement('div');
            modal.className = 'gift-modal show';
            modal.innerHTML = `
                <div class="gift-content">
                    <div class="gift-icon">‚ö†Ô∏è</div>
                    <h3 class="gift-title">Sudah Terkirim</h3>
                    <p class="gift-message">Kamu sudah mengirim pesan sebelumnya. Satu orang hanya bisa mengirim satu kali untuk menjaga kualitas feedback.</p>
                    <button class="close-gift" onclick="this.parentElement.parentElement.remove()">OK, Mengerti</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Auto-refresh messages every 10 seconds to show new messages from other users
        function autoRefreshMessages() {
            // In a real implementation, this would fetch from a server
            // For demo purposes, we'll simulate new messages occasionally
            setInterval(() => {
                // Simulate random new messages from other users (for demo)
                if (Math.random() < 0.1 && messages.length < 20) { // 10% chance every 10 seconds, max 20 messages
                    simulateNewMessage();
                }
            }, 10000);
        }

        function simulateNewMessage() {
            const demoUsers = [
                { name: 'Andi', position: 'Staff PSDM' },
                { name: 'Sari', position: 'Anggota' },
                { name: 'Budi', position: 'Koordinator' },
                { name: 'Dewi', position: 'Staff Lainnya' },
                { name: 'Rahmat', position: 'Pengurus Inti' }
            ];
            
            const demoKesan = [
                'Senang banget bisa bekerja sama! Banyak belajar dari kepemimpinan yang inspiring.',
                'Terima kasih sudah jadi mentor yang baik. Selalu sabar dalam membimbing kami.',
                'Gaya kepemimpinan yang collaborative banget, bikin kita semua merasa valued.',
                'Apresiasi besar untuk dedikasi dan komitmen yang tinggi selama ini.',
                'Leadership yang humble tapi tegas. Perfect balance!'
            ];
            
            const demoPesan = [
                'Semoga sukses terus di masa depan. Tetap jadi inspirasi buat yang lain ya!',
                'Keep being awesome! Terima kasih sudah mengajarkan banyak hal berharga.',
                'Semoga pengalaman di PSDM bisa jadi stepping stone untuk karir yang lebih besar.',
                'Stay humble, stay hungry! Kamu punya potensi besar untuk leadership yang lebih tinggi.',
                'Thank you for everything! Semoga kita bisa kolaborasi lagi di masa depan.'
            ];
            
            const randomUser = demoUsers[Math.floor(Math.random() * demoUsers.length)];
            const isAnon = Math.random() < 0.3; // 30% chance anonymous
            
            const simulatedMessage = {
                id: Date.now() + '_simulated_' + Math.random().toString(36).substr(2, 9),
                name: isAnon ? 'Anonymous' : randomUser.name,
                displayName: isAnon ? generateAnonymousName() : randomUser.name,
                position: randomUser.position,
                kesan: demoKesan[Math.floor(Math.random() * demoKesan.length)],
                pesan: demoPesan[Math.floor(Math.random() * demoPesan.length)],
                ratings: {
                    komunikasi: Math.floor(Math.random() * 2) + 4, // 4-5 stars
                    koordinasi: Math.floor(Math.random() * 2) + 4,
                    inspirasi: Math.floor(Math.random() * 2) + 4
                },
                timestamp: new Date().toLocaleString('id-ID'),
                isAnonymous: isAnon,
                sessionId: 'simulated_' + Math.random().toString(36).substr(2, 9)
            };
            
            messages.push(simulatedMessage);
            displayMessage(simulatedMessage);
            updateStats();
            
            // Show notification
            showNewMessageNotification();
        }

        function showNewMessageNotification() {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 12px 20px;
                border-radius: 12px;
                font-size: 14px;
                font-weight: 500;
                z-index: 1000;
                animation: slideInRight 0.3s ease-out;
                box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
            `;
            notification.innerHTML = 'üì© Pesan baru masuk!';
            
            // Add animation keyframes
            if (!document.getElementById('notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOutRight {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Initialize
        createParticles();
    </script>
</body>
</html>
